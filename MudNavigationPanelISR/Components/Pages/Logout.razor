@page "/Logout"
@using ErgodicMage.MudNavigationPanelISR.Authentication
@inject AuthenticationStateProvider authStateProvider
@inject NavigationManager navManager

<PageHeader DisplayText="Logging out" Title="Logout"/>
<MudProgressCircular Color="Color.Primary" Size="Size.Large" Indeterminate="true" />


@code {

    protected override async Task OnInitializedAsync()
    {
        var customAuthStateProvider = authStateProvider as NavigationAuthenticationStateProvider;
        if (customAuthStateProvider is not null)
            await customAuthStateProvider.UpdateAuthenticationState(null);
        navManager.NavigateTo("/", true);
    }
}
